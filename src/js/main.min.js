function accordion(){document.querySelector(".accordion")&&document.querySelectorAll(".accordion__header").forEach((e=>{e.addEventListener("click",(function(){const e=this.parentElement,t=e.classList.contains("active");document.querySelectorAll(".accordion__item").forEach((e=>{e.classList.remove("active")})),t||e.classList.add("active")}))}))}function collapse(){document.querySelector(".collapse")&&document.querySelectorAll(".collapse__head").forEach((e=>{e.classList.contains("collapse__head--link")||e.addEventListener("click",(function(){const e=this.parentElement;if(e.classList.contains("active")){e.classList.remove("active");const t=e.querySelector(".h-animation-right");t&&(t.classList.remove("active"),document.querySelector(".collapse-overlay")?.classList.remove("active"))}else{document.querySelectorAll(".collapse__item").forEach((e=>{e.classList.remove("active");const t=e.querySelector(".h-animation-right");t&&t.classList.remove("active")})),e.classList.add("active");const t=e.querySelector(".h-animation-right");t&&(t.classList.add("active"),document.querySelector(".collapse-overlay")?.classList.add("active"))}}))}))}function fancyboxInit(){const e=document.querySelector(".point__slider");if(!e)return;const t=e.querySelectorAll(".slider__icon a, .point__icon a"),o=Array.from(t).map((e=>({src:e.getAttribute("href"),caption:e.getAttribute("data-caption"),type:"image"})));t.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),Fancybox.show(o,{startIndex:t,loop:!0,buttons:["zoom","slideShow","fullScreen","download","thumbs","close"],thumbs:{autoStart:!0},afterLoad:e=>{const t=e.slides[e.currentIndex].querySelector("img");t&&(t.style.maxWidth="80vw",t.style.maxHeight="80vh",t.style.width="auto",t.style.height="auto")}})}))})),document.addEventListener("close.fancybox",(()=>{const e=document.activeElement,t=document.querySelector(".fancybox__container");t&&t.contains(e)&&e.blur()}))}function fadeInSections(){const e=document.querySelectorAll(".animate-fade");function t(){const t=window.innerHeight;e.forEach((e=>{e.getBoundingClientRect().top<t-50&&(e.style.opacity="1",e.style.transition="opacity 0.6s ease-out")}))}window.addEventListener("scroll",t),window.addEventListener("load",t)}function helperCollapse(){const e=document.querySelector(".btn-collapse");e&&e.addEventListener("click",(function(){const e=document.querySelector(".help__item__hide"),t=document.querySelector(".btn-collapse .open"),o=document.querySelector(".btn-collapse .close");e.classList.contains("active")?(e.classList.remove("active"),t.classList.add("active"),o.classList.remove("active")):(e.classList.add("active"),t.classList.remove("active"),o.classList.add("active"))}))}function setupNavigationWithSlideNumber(e,t,o,c,n){const i=$(o);i.length;function a(e){$(n).text(e+1)}$(e).on("click",(function(){let e=i.filter("."+c),t=e.next(o);t.length&&(e.removeClass(c),t.addClass(c),a(i.index(t)))})),$(t).on("click",(function(){let e=i.filter("."+c),t=e.prev(o);t.length&&(e.removeClass(c),t.addClass(c),a(i.index(t)))})),a(i.index(i.filter("."+c)))}function countPointItems(){const e=document.querySelector(".points");if(!e)return 0;return e.querySelectorAll(".point__item").length}function updateTotalSlides(){const e=document.querySelector(".total-slides"),t=countPointItems();e&&(e.textContent=t)}window.initMap=function(){const e={lat:49.8397,lng:24.0297},t=new google.maps.Map(document.getElementById("map"),{center:e,zoom:13});new google.maps.Marker({position:e,map:t})};const pointSlider=new Swiper(".point__slider",{slidesPerView:"auto",spaceBetween:16,freeMode:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},mousewheel:{forceToAxis:!0}});function initPlacesSlider(){const e=document.querySelector(".places__slider");if(e)return new Swiper(e,{slidesPerView:3,spaceBetween:10,pagination:{el:".places__pagination",clickable:!1},grabCursor:!0,touchEventsTarget:"container"})}function initPlacesItemToggle(){const e=document.querySelectorAll(".places__slide, .swiper-slide");e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),t.classList.add("active")}))}))}function initPlacesItemToggle(){const e=document.querySelectorAll(".places__slide"),t=document.querySelector(".places__details"),o=document.querySelector(".places__button");e.forEach((c=>{c.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),c.classList.add("active");const n=c.getAttribute("data-title"),i=c.getAttribute("data-distance"),a=c.getAttribute("data-time");t&&(t.innerHTML=`\n          <p>${n}</p>\n          <div class="places__info">\n            <span>${i}</span>\n            <li>${a}</li>\n          </div>\n        `),o&&o.classList.add("active")}))}))}function initBackButton(){$(".header__back").on("click",(function(){window.history.back()}))}function sidebarLogic(){const e=$(".sidebar"),t=$(".openModal"),o=$(".closeModal"),c=$(".has-children"),n=$(".dropdown__items"),i=$(".dropdown__item-back");t.on("click",(function(){const e=$(this).data("sidebarTarget");e&&($(e).addClass("active"),$(".overlay").addClass("active"))})),o.on("click",(function(){e.removeClass("active")})),c.on("click",(function(){const e=$(this).find(".submenu");e.length&&e.toggleClass("show")})),i.on("click",(function(){n.removeClass("show").addClass("h-animation-right")}))}function popupLogic(){const e=$(".openPopup"),t=$(".popup__close");e.on("click",(function(){const e=$(this).data("popupTarget"),t=$(e);t.length&&t.addClass("active")})),t.on("click",(function(){$(this).closest(".popup").removeClass("active")}))}document.addEventListener("DOMContentLoaded",(function(){fadeInSections(),initPlacesSlider(),accordion(),fancyboxInit(),collapse(),helperCollapse(),setupNavigationWithSlideNumber("#nextBtn","#prevBtn",".point__item","active",".current-slide"),countPointItems(),updateTotalSlides(),initPlacesItemToggle(),initBackButton(),sidebarLogic(),popupLogic()}));